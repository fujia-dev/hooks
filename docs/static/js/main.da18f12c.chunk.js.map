{"version":3,"sources":["../src sync /(use)[A-Z]{1}[A-Za-z]*$","../src/useArray/index.ts","../src/useAsync/index.ts","../src/useClickOutside/index.tsx","../src/useCounter/index.tsx","../src/useDebounce/index.ts","../src/useDocumentTitle/index.ts","../src/useKeyPress/index.tsx","../src/useMounted/index.ts","../src/useMousePosition/index.ts","../src/useOnce/index.tsx","../src/usePageLeave/index.ts","../src/useRafState/index.ts","../src/useScroll/index.tsx","../src/useScrollbarWidth/index.ts","../src/useUndo/index.ts","../src/useUnmount/index.tsx","../src/useWinScroll/index.ts","../src/useWinSize/index.tsx","src/components/MyMenu.tsx","App.tsx","../public/404.svg","src/routers/index.tsx","reportWebVitals.ts","src/store/index.ts","index.tsx","../src/useAsync/constants.ts","../src/useMountedRef/index.ts","../src/useAsync/useAsync.ts","../src/useAsync/useAsyncSimple.ts","../src/useAsync/useAsyncWithReducer.ts","../src/useUndo/useUndo.ts","../src/useUndo/useUndoWithReducer.ts","../src/useEffectOnce/index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","useArray","data","useState","value","setValue","cloneData","add","item","removeByIndex","index","splice","clear","pop","useClickOutside","ref","handler","useEffect","docListener","event","current","contains","target","document","addEventListener","removeEventListener","useCounter","initialValue","step","count","setCount","increment","useCallback","preState","decrement","reset","useDebounce","delay","debounceValue","setDebounceValue","timer","setTimeout","clearTimeout","useDocumentTitle","title","keepOnUnmount","originDocTitleRef","useRef","useKeyPress","elem","body","key","setKey","handleKeyPress","useMounted","fn","useMousePosition","options","eventType","interval","x","y","position","setPosition","updatePosition","pageX","pageY","debounceUpdatePosition","debounce","useOnce","callback","called","usePageLeave","onPageLeave","args","isFunction","from","relatedTarget","nodeName","addListener","removeListener","useRafState","initialState","frame","state","setState","setRafState","val","cancelAnimationFrame","requestAnimationFrame","useScroll","isDev","isUndef","errorLog","top","left","cachedHandler","scrollTop","scrollLeft","refNode","capture","passive","useScrollbarWidth","scrollbarWidth","scrollW","setScrollW","raf","useUnmount","fnRef","useEffectOnce","useWinScroll","window","scrollX","scrollY","useWinSize","initialWidth","Infinity","initialHeight","width","isBrowser","innerWidth","height","innerHeight","winSize","setWinSize","allHooks","require","h","split","hookItems","Set","hookName","label","MyMenu","mode","style","theme","config","Item","to","Content","Layout","Sider","App","hasSider","overflow","bottom","margin","Router","path","caseSensitive","element","padding","marginTop","src","NotFoundImg","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","composedEnhancer","applyMiddleware","thunk","createStore","action","type","ReactDOM","render","StrictMode","store","getElementById","initialDefaultState","stat","error","defaultConfig","throwOnError","useMountedRef","mountedRef","useAsync","initialOptions","setData","setError","run","request","catch","Promise","reject","isIdle","isLoading","isError","isSuccess","useAsyncSimple","asyncFn","loading","setLoading","execute","res","err","useSafeDispatch","dispatch","useAsyncWithReducer","useReducer","safeDispatch","useUndo","initialPresent","undoOptions","redoSize","undoSize","past","present","future","canUndo","length","canRedo","undo","prevState","previous","newPast","slice","newFuture","redo","next","set","newPresent","UNDO","REDO","RESET","undoReducer","useUndoWithReducer","effect"],"mappings":"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","file":"static/js/main.da18f12c.chunk.js","sourcesContent":["var map = {\n\t\"./useArray\": 114,\n\t\"./useAsync\": 115,\n\t\"./useAsync/useAsync\": 64,\n\t\"./useAsync/useAsyncSimple\": 65,\n\t\"./useAsync/useAsyncWithReducer\": 66,\n\t\"./useClickOutside\": 116,\n\t\"./useCounter\": 117,\n\t\"./useDebounce\": 118,\n\t\"./useDocumentTitle\": 119,\n\t\"./useEffectOnce\": 74,\n\t\"./useInterval\": 120,\n\t\"./useKeyPress\": 121,\n\t\"./useMounted\": 122,\n\t\"./useMountedRef\": 45,\n\t\"./useMousePosition\": 123,\n\t\"./useOnce\": 131,\n\t\"./usePageLeave\": 132,\n\t\"./useRafState\": 152,\n\t\"./useScroll\": 153,\n\t\"./useScrollbarWidth\": 154,\n\t\"./useUndo\": 155,\n\t\"./useUndo/useUndo\": 70,\n\t\"./useUndo/useUndoWithReducer\": 71,\n\t\"./useUnmount\": 156,\n\t\"./useWinScroll\": 157,\n\t\"./useWinSize\": 158\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 113;","import { useState } from 'react';\n\nexport const useArray = <T>(data: T[]) => {\n  const [value, setValue] = useState(data);\n\n  const cloneData = [...data];\n\n  const add = (item: T) => setValue([...cloneData, item]);\n\n  const removeByIndex = (index: number) => {\n    cloneData.splice(index, 1);\n    setValue(cloneData);\n  };\n\n  const clear = () => setValue([]);\n\n  const pop = () => {\n    cloneData.pop();\n    setValue(cloneData);\n  };\n\n  return {\n    value,\n    add,\n    removeByIndex,\n    clear,\n    pop,\n  };\n};\n","export { useAsync } from './useAsync';\nexport { useAsyncSimple } from './useAsyncSimple';\nexport { useAsyncWithReducer } from './useAsyncWithReducer';\n","import { RefObject, useEffect } from 'react';\n\ntype HandlerType = (e: MouseEvent) => void;\n\nexport const useClickOutside = (\n  ref: RefObject<HTMLElement>,\n  handler: HandlerType\n) => {\n  useEffect(() => {\n    const docListener = (event: MouseEvent) => {\n      if (!ref.current || ref.current.contains(event.target as HTMLLIElement))\n        return;\n\n      handler(event);\n    };\n\n    document.addEventListener('click', docListener);\n\n    return () => {\n      document.removeEventListener('click', docListener);\n    };\n  }, [ref, handler]);\n};\n","/*\n * @Author: fujia\n * @Date: 2021-11-27 11:53:40\n * @LastEditTime: 2022-04-22 10:20:59\n * @LastEditors: fujia(as default)\n * @Description: A counter with React Hooks.\n * @FilePath: /hooks/src/useCounter/index.tsx\n */\n\nimport { useState, useCallback } from 'react';\n\n/**\n * @description A counter with React Hooks\n *\n * @param {number} [initialValue=0] initial value\n * @param {number} [step=1] value per change\n * @return {*}\n */\nexport const useCounter = (initialValue = 0, step = 1) => {\n  const [count, setCount] = useState(initialValue);\n\n  const increment = useCallback(() => {\n    setCount((preState) => preState + step);\n  }, [step]);\n\n  const decrement = useCallback(() => {\n    setCount((preState) => preState - step);\n  }, [step]);\n\n  const reset = useCallback(() => setCount(initialValue), [initialValue]);\n\n  return {\n    count,\n    increment,\n    decrement,\n    reset,\n  };\n};\n","import { useEffect, useState } from 'react';\n\nexport const useDebounce = <V>(value: V, delay = 300) => {\n  const [debounceValue, setDebounceValue] = useState(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebounceValue(value), delay);\n\n    return () => timer && clearTimeout(timer);\n  }, [value, delay]);\n\n  return debounceValue;\n};\n","import React, { useEffect, useRef } from 'react';\n\nexport const useDocumentTitle = (title: string, keepOnUnmount = false) => {\n  const originDocTitleRef = useRef(document.title);\n\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  useEffect(\n    () => () => {\n      if (keepOnUnmount) return;\n\n      document.title = originDocTitleRef.current;\n    },\n    [keepOnUnmount]\n  );\n};\n","import { useEffect, useState } from 'react';\n\nexport const useKeyPress = (elem = document.body) => {\n  const [key, setKey] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      setKey(e.key);\n    };\n\n    elem.addEventListener('keypress', handleKeyPress);\n\n    return () => {\n      elem.removeEventListener('keypress', handleKeyPress);\n    };\n  }, [elem]);\n\n  return key;\n};\n","import { useEffect } from 'react';\n\nexport const useMounted = (fn: CallableFunction) => {\n  useEffect(() => {\n    typeof fn === 'function' && fn();\n  }, [fn]);\n};\n","import { useState, useEffect, useRef } from 'react';\nimport debounce from 'lodash/debounce';\n\ninterface UseMousePosition {\n  eventType: 'click' | 'mousemove';\n  interval: number;\n}\n\nexport const useMousePosition = (\n  options: UseMousePosition = {\n    eventType: 'mousemove',\n    interval: 300,\n  }\n) => {\n  const [position, setPosition] = useState({\n    x: 0,\n    y: 0,\n  });\n  const { eventType, interval } = options;\n\n  const updatePosition = (e: MouseEvent) => {\n    const { pageX, pageY } = e;\n\n    setPosition({\n      x: pageX,\n      y: pageY,\n    });\n  };\n  const debounceUpdatePosition = useRef(\n    debounce(updatePosition, interval)\n  ).current;\n\n  useEffect(() => {\n    document.addEventListener(eventType, debounceUpdatePosition);\n\n    return () => {\n      document.removeEventListener(eventType, debounceUpdatePosition);\n    };\n  }, [debounceUpdatePosition, eventType]);\n\n  return position;\n};\n","import { useRef } from 'react';\n\nexport function useOnce(callback: CallableFunction) {\n  const called = useRef(false);\n\n  if (called.current) return;\n\n  callback();\n  called.current = true;\n}\n","import { useEffect } from 'react';\nimport { isFunction, addListener, removeListener } from '@fujia/hammer';\n\nexport const usePageLeave = (onPageLeave: CallableFunction, args = []) => {\n  useEffect(() => {\n    if (!isFunction(onPageLeave)) return;\n\n    const handler = (event: MouseEventInit) => {\n      const from = event.relatedTarget;\n\n      if (!from || (from as any).nodeName === 'HTML') {\n        onPageLeave();\n      }\n    };\n\n    addListener(document, 'mouseout', handler);\n\n    return () => {\n      removeListener(document, 'mouseout', handler);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, args);\n};\n","import {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  SetStateAction,\n  Dispatch,\n} from 'react';\n\nexport const useRafState = <S>(\n  initialState: S | (() => S)\n): [S, Dispatch<SetStateAction<S>>] => {\n  /**\n   * NOTE: Raf is shorthand of requestAnimationFrame\n   */\n  const frame = useRef(0);\n  const [state, setState] = useState(initialState);\n\n  const setRafState = useCallback((val: S | ((prevState: S) => S)) => {\n    cancelAnimationFrame(frame.current);\n\n    frame.current = requestAnimationFrame(() => {\n      setState(val);\n    });\n  }, []);\n\n  // also use useUnmount\n  useEffect(() => {\n    return () => {\n      cancelAnimationFrame(frame.current);\n    };\n  }, []);\n\n  return [state, setRafState];\n};\n","import { useState, useEffect, useRef, RefObject } from 'react';\nimport {\n  isDev,\n  errorLog,\n  debounce,\n  addListener,\n  isUndef,\n  removeListener,\n} from '@fujia/hammer';\n\nexport type UseScrollState = {\n  top: number;\n  left: number;\n};\n\nexport const useScroll = (ref: RefObject<HTMLElement>, interval = 300) => {\n  if (isDev && isUndef(ref?.current)) {\n    errorLog('`useScroll` expects a single ref argument.');\n  }\n\n  const [position, setPosition] = useState<UseScrollState>({\n    top: 0,\n    left: 0,\n  });\n\n  const cachedHandler = useRef<VoidFunction | null>(\n    debounce(() => {\n      if (ref.current) {\n        setPosition({\n          top: ref.current.scrollTop,\n          left: ref.current.scrollLeft,\n        });\n      }\n    }, interval)\n  );\n\n  useEffect(() => {\n    const refNode = ref.current;\n\n    if (refNode && cachedHandler.current) {\n      addListener(refNode, 'scroll', cachedHandler.current, {\n        capture: false,\n        passive: true,\n      });\n    }\n\n    return () => {\n      if (refNode && cachedHandler.current) {\n        removeListener(refNode, 'scroll', cachedHandler.current);\n        cachedHandler.current = null;\n      }\n    };\n  }, [ref]);\n\n  return position;\n};\n","import { useEffect, useState } from 'react';\nimport { isUndef, scrollbarWidth } from '@fujia/hammer';\n\nexport const useScrollbarWidth = (): number | undefined => {\n  const [scrollW, setScrollW] = useState(scrollbarWidth());\n\n  useEffect(() => {\n    if (isUndef(scrollW)) return;\n\n    const raf = requestAnimationFrame(() => {\n      setScrollW(scrollbarWidth());\n    });\n\n    return () => cancelAnimationFrame(raf);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return scrollW;\n};\n","export { useUndo } from './useUndo';\n\nexport { useUndoWithReducer } from './useUndoWithReducer';\n","import { useRef } from 'react';\nimport { useEffectOnce } from '../useEffectOnce';\n\nexport const useUnmount = (fn: () => any) => {\n  const fnRef = useRef(fn);\n\n  // NOTE: update the ref each render so if it change the newest callback will be invoked\n  fnRef.current = fn;\n\n  useEffectOnce(() => () => fnRef.current());\n};\n","import { useEffect, useState, useRef } from 'react';\nimport { addListener, removeListener, debounce } from '@fujia/hammer';\n\nexport type UseWinScroll = {\n  x: number;\n  y: number;\n};\n\nexport const useWinScroll = (interval = 300): UseWinScroll => {\n  const [state, setState] = useState(() => ({\n    x: window?.scrollX || 0,\n    y: window?.scrollY || 0,\n  }));\n\n  const cachedHandler = useRef<VoidFunction | null>(\n    debounce(() => {\n      setState(() => {\n        const { scrollX = 0, scrollY = 0 } = window || {};\n\n        return {\n          x: scrollX,\n          y: scrollY,\n        };\n      });\n    }, interval)\n  );\n\n  useEffect(() => {\n    addListener(window, 'scroll', cachedHandler.current);\n\n    return () => {\n      removeListener(window, 'scroll', cachedHandler.current);\n      cachedHandler.current = null;\n    };\n  }, []);\n\n  return state;\n};\n","import { useState, useEffect, useRef } from 'react';\nimport {\n  isBrowser,\n  debounce,\n  addListener,\n  removeListener,\n} from '@fujia/hammer';\n\nconst useWinSize = (\n  options = {\n    initialWidth: Infinity,\n    initialHeight: Infinity,\n    interval: 300,\n  }\n) => {\n  const { initialWidth, initialHeight, interval } = options;\n  const [winSize, setWinSize] = useState<{\n    width: number;\n    height: number;\n  }>({\n    width: isBrowser ? window.innerWidth : initialWidth,\n    height: isBrowser ? window.innerHeight : initialHeight,\n  });\n\n  const cachedHandler = useRef<VoidFunction | null>(\n    debounce(() => {\n      setWinSize({\n        width: window?.innerWidth || initialWidth,\n        height: window?.innerHeight || initialHeight,\n      });\n    }, interval)\n  );\n\n  useEffect(() => {\n    if (isBrowser) {\n      addListener(window, 'resize', cachedHandler.current);\n\n      return () => {\n        removeListener(window, 'resize', cachedHandler.current);\n        cachedHandler.current = null;\n      };\n    }\n  }, []);\n\n  return winSize;\n};\n\nexport default useWinSize;\n","import { Menu } from 'antd';\nimport { Link } from 'react-router-dom';\n\nconst hookContext = require.context(\n  '../../../src',\n  true,\n  /(use)[A-Z]{1}[A-Za-z]*$/\n);\nconst allHooks = hookContext.keys().map((h) => h.split('/')[1]);\n\nconst hookList = [...new Set(allHooks)];\n\nconst hookItems = hookList.map((hookName) => ({\n  key: hookName,\n  label: hookName,\n  title: hookName,\n}));\n\nexport const MyMenu = () => {\n  return (\n    <Menu mode=\"inline\" style={{ height: '100%' }} theme=\"dark\">\n      {hookItems.map((config) => (\n        <Menu.Item key={config.label}>\n          <Link to={`/fujia-dev/hooks/${config.label}`}>{config.label}</Link>\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n};\n","import { Layout } from 'antd';\nimport { MyMenu } from './src/components/MyMenu';\n\nconst { Content, Sider } = Layout;\n\nfunction App() {\n  return (\n    <Layout hasSider>\n      <Sider\n        style={{\n          overflow: 'auto',\n          height: '100vh',\n          position: 'fixed',\n          left: 0,\n          top: 0,\n          bottom: 0,\n        }}\n      >\n        <MyMenu />\n      </Sider>\n      <Layout style={{ height: '100vh' }}>\n        <Content\n          style={{ margin: '24px 16px 0', overflow: 'initial', height: '100%' }}\n        >\n          <h1>content</h1>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/404.e53d9e41.svg\";","import { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport App from '../../App';\nimport NotFoundImg from '../../../public/404.svg';\n\nexport const Router = () => {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/fujia-dev/hooks\" caseSensitive element={<App />}></Route>\n        <Route\n          path=\"*\"\n          element={\n            <main style={{ padding: '1rem' }}>\n              <p>There's nothing here!</p>\n              <div style={{ width: '50%', height: '50%', marginTop: 32 }}>\n                <img src={NotFoundImg} alt=\"no found\" />\n              </div>\n            </main>\n          }\n        />\n      </Routes>\n    </BrowserRouter>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createStore, applyMiddleware, Action } from 'redux';\nimport thunk from 'redux-thunk';\n\nexport interface IState {\n  value: number;\n}\n\nconst initialState = {\n  value: 0\n};\n\nconst composedEnhancer = applyMiddleware(thunk);\n\nfunction counterReducer(state = initialState, action: Action) {\n  switch (action.type) {\n    case 'counter/incremented':\n      return {\n        ...state,\n        value: state.value + 1,\n      };\n    case 'counter/decremented':\n      return {\n        ...state,\n        value: state.value - 1\n      };\n    default:\n      return state;\n  }\n}\n\n\nexport default createStore(counterReducer, composedEnhancer);\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n// import '@ui-puzzles/rect/dist/index.css';\nimport 'antd/dist/antd.css';\n\nimport { Router } from './src/routers';\nimport reportWebVitals from './reportWebVitals';\nimport store from './src/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import type { State } from './interface';\n\nexport const initialDefaultState: State<null> = {\n  stat: 'idle',\n  data: null,\n  error: null,\n};\n\nexport const defaultConfig = {\n  throwOnError: false,\n};\n","import React, { useEffect, useRef } from 'react';\n\nexport const useMountedRef = () => {\n  const mountedRef = useRef(false);\n\n  useEffect(() => {\n    mountedRef.current = true;\n\n    return () => {\n      mountedRef.current = false;\n    };\n  });\n\n  return mountedRef;\n};\n","import { useCallback, useState } from 'react';\n\nimport { useMountedRef } from '../useMountedRef';\nimport type { State } from './interface';\nimport { initialDefaultState, defaultConfig } from './constants';\n\nexport const useAsync = <D>(\n  initialState?: State<D>,\n  initialOptions = defaultConfig\n) => {\n  const [state, setState] = useState<State<D>>({\n    ...initialDefaultState,\n    ...initialState,\n  });\n  const mountedRef = useMountedRef();\n\n  const setData = useCallback(\n    (data: D) =>\n      setState({\n        data,\n        stat: 'success',\n        error: null,\n      }),\n    []\n  );\n\n  const setError = useCallback(\n    (error: Error) =>\n      setState({\n        error,\n        stat: 'error',\n        data: null,\n      }),\n    []\n  );\n\n  /**\n   * @desc invoke an async request.\n   *\n   * @param {Promise<D>} request\n   */\n  const run = useCallback(\n    (request: Promise<D>) => {\n      if (!request || !request.then)\n        throw new Error('The param of run method should be a Promise type!');\n\n      setState((preState) => ({ ...preState, stat: 'loading' }));\n\n      return request\n        .then((data) => {\n          mountedRef.current && setData(data);\n\n          return data;\n        })\n        .catch((error) => {\n          /**\n           * NOTE: the catch will consume this error, if you want to catch the error in the outer, you should throw it voluntarily.\n           */\n          setError(error);\n\n          if (initialOptions.throwOnError) {\n            return Promise.reject(error);\n          }\n\n          return error;\n        });\n    },\n    [initialOptions.throwOnError, mountedRef, setData, setError]\n  );\n\n  return {\n    isIdle: state.stat === 'idle',\n    isLoading: state.stat === 'loading',\n    isError: state.stat === 'error',\n    isSuccess: state.stat === 'success',\n    run,\n    setData,\n    ...state,\n  };\n};\n","/*\n * @Author: fujia\n * @Date: 2021-11-23 15:24:39\n * @LastEditTime: 2022-04-22 10:18:58\n * @LastEditors: fujia(as default)\n * @Description: Abstract async request with hooks.\n * @FilePath: /hooks/src/useAsync/useAsyncSimple.ts\n */\n\nimport { useState, useCallback } from 'react';\n\nexport const useAsyncSimple = (asyncFn: () => Promise<any>) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const execute = useCallback(() => {\n    setLoading(true);\n    setData(null);\n    setError(null);\n\n    return asyncFn()\n      .then((res) => {\n        setData(res);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        setError(err);\n      });\n  }, [asyncFn]);\n\n  return {\n    data,\n    loading,\n    error,\n    execute,\n  };\n};\n","import { useCallback, useReducer } from 'react';\n\nimport { useMountedRef } from '../useMountedRef';\nimport type { State } from './interface';\nimport { initialDefaultState, defaultConfig } from './constants';\n\nconst useSafeDispatch = <T>(dispatch: (...args: T[]) => void) => {\n  const mountedRef = useMountedRef();\n\n  return useCallback(\n    (...args: T[]) => mountedRef.current && dispatch(...args),\n    [dispatch, mountedRef]\n  );\n};\n\nexport const useAsyncWithReducer = <D>(\n  initialState?: State<D>,\n  initialOptions = defaultConfig\n) => {\n  const [state, dispatch] = useReducer(\n    (state: State<D>, action: Partial<State<D>>) => ({\n      ...state,\n      ...action,\n    }),\n    {\n      ...initialDefaultState,\n      ...initialState,\n    }\n  );\n\n  const safeDispatch = useSafeDispatch(dispatch);\n\n  const setData = useCallback(\n    (data: D) =>\n      safeDispatch({\n        data,\n        stat: 'success',\n        error: null,\n      }),\n    [safeDispatch]\n  );\n\n  const setError = useCallback(\n    (error: Error) =>\n      safeDispatch({\n        error,\n        stat: 'error',\n        data: null,\n      }),\n    [safeDispatch]\n  );\n\n  /**\n   * @desc invoke an async request.\n   *\n   * @param {Promise<D>} request\n   */\n  const run = useCallback(\n    (request: Promise<D>) => {\n      if (!request || !request.then)\n        throw new Error('The param of run method should be a Promise type!');\n\n      safeDispatch({ stat: 'loading' });\n\n      return request\n        .then((data) => {\n          setData(data);\n\n          return data;\n        })\n        .catch((error) => {\n          /**\n           * NOTE: the catch will consume this error, if you want to catch the error in the outer, you should throw it voluntarily.\n           */\n          setError(error);\n\n          if (initialOptions.throwOnError) {\n            return Promise.reject(error);\n          }\n\n          return error;\n        });\n    },\n    [initialOptions.throwOnError, safeDispatch, setData, setError]\n  );\n\n  return {\n    isIdle: state.stat === 'idle',\n    isLoading: state.stat === 'loading',\n    isError: state.stat === 'error',\n    isSuccess: state.stat === 'success',\n    run,\n    setData,\n    ...state,\n  };\n};\n","import React, { useCallback, useState } from 'react';\n\nimport type { UndoState } from './interface';\n\nexport const useUndo = <T>(\n  initialPresent: T,\n  undoOptions = {\n    redoSize: 50,\n    undoSize: 50,\n  }\n) => {\n  const [state, setState] = useState<UndoState<T>>({\n    past: [],\n    present: initialPresent,\n    future: [],\n  });\n  const { undoSize } = undoOptions;\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  const undo = useCallback(() => {\n    setState((prevState) => {\n      const { past, future } = prevState;\n\n      if (past.length === 0) return prevState;\n\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n      const newFuture = [previous, ...future];\n\n      if (future.length >= undoSize) {\n        newFuture.splice(newFuture.length - 1, 1);\n      }\n\n      return {\n        past: newPast,\n        present: previous,\n        future: newFuture,\n      };\n    });\n  }, [undoSize]);\n\n  const redo = useCallback(() => {\n    setState((prevState) => {\n      const { past, future } = prevState;\n\n      if (future.length === 0) return prevState;\n\n      const next = future[0];\n      // const newPast = [...past, next];\n      const newFuture = future.slice(1);\n\n      return {\n        past: [...past, next],\n        present: next,\n        future: newFuture,\n      };\n    });\n  }, []);\n\n  const set = useCallback((newPresent: T) => {\n    setState((prevState) => {\n      const { past, present } = prevState;\n\n      if (newPresent === present) return prevState;\n\n      return {\n        past: [...past, present],\n        present: newPresent,\n        future: [],\n      };\n    });\n  }, []);\n\n  const reset = useCallback((newPresent: T) => {\n    setState({\n      past: [],\n      present: newPresent,\n      future: [],\n    });\n  }, []);\n\n  return [\n    state,\n    {\n      set,\n      reset,\n      undo,\n      redo,\n      canRedo,\n      canUndo,\n    },\n  ];\n};\n","import { useCallback, useReducer } from 'react';\n\nimport type { UndoState } from './interface';\n\nconst UNDO = 'UNDO';\nconst REDO = 'REDO';\nconst SET = 'SET';\nconst RESET = 'RESET';\n\ninterface Action<T> {\n  newPresent?: T;\n  type: typeof UNDO | typeof REDO | typeof SET | typeof RESET;\n}\n\nconst undoReducer = <T>(state: UndoState<T>, action: Action<T>) => {\n  const { past, present, future } = state;\n  const { newPresent, type } = action;\n\n  switch (type) {\n    case REDO: {\n      if (past.length === 0) return state;\n\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n\n      return {\n        past: newPast,\n        present: previous,\n        future: [previous, ...future],\n      };\n    }\n\n    case RESET: {\n      return {\n        past: [],\n        present: newPresent,\n        future: [],\n      };\n    }\n\n    case SET: {\n      if (newPresent === present) return state;\n\n      return {\n        past: [...past, present],\n        present: newPresent,\n        future: [],\n      };\n    }\n\n    case UNDO: {\n      if (past.length === 0) return state;\n\n      const previous = past[past.length - 1];\n      const newPast = past.slice(0, past.length - 1);\n\n      return {\n        past: newPast,\n        present: previous,\n        future: [previous, ...future],\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const useUndoWithReducer = <T>(initialPresent: T) => {\n  const [state, dispatch] = useReducer(undoReducer, {\n    past: [],\n    present: initialPresent,\n    future: [],\n  });\n\n  const canUndo = state.past.length !== 0;\n  const canRedo = state.future.length !== 0;\n\n  const undo = useCallback(\n    () =>\n      dispatch({\n        type: UNDO,\n      }),\n    []\n  );\n\n  const redo = useCallback(\n    () =>\n      dispatch({\n        type: REDO,\n      }),\n    []\n  );\n\n  const set = useCallback(\n    (newPresent: T) =>\n      dispatch({\n        type: SET,\n        newPresent,\n      }),\n    []\n  );\n\n  const reset = useCallback(\n    (newPresent: T) =>\n      dispatch({\n        type: RESET,\n        newPresent,\n      }),\n    []\n  );\n\n  return [state, { set, reset, undo, redo, canUndo, canRedo }];\n};\n","import { EffectCallback, useEffect } from 'react';\n\nexport const useEffectOnce = (effect: EffectCallback) => {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(effect, []);\n};\n"],"sourceRoot":""}